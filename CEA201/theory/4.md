Chắc chắn rồi, đây là nội dung được chép lại bằng markdown:

# Chapter 5: Cache Memory / Bộ Nhớ Đệm

## 5.1 Cache Basics / Cơ bản về Cache

*   **Cache**: Small, fast memory that stores copies of frequently used main memory data.
    **Cache**: Bộ nhớ nhỏ, nhanh dùng để lưu trữ dữ liệu thường xuyên sử dụng từ RAM.
*   **Block**: Minimum unit of transfer between cache and memory.
    **Block**: Đơn vị truyền tối thiểu giữa cache và RAM.
*   **Line**: A slot in cache that holds one block.
    **Dòng (line)**: Một vị trí trong cache chứa một block dữ liệu.
*   **Tag**: Identifies which memory block is stored in a line.
    **Thẻ (tag)**: Nhãn xác định block nào đang nằm trong dòng.

## 5.2 Mapping Techniques / Kỹ thuật ánh xạ

*   **Direct Mapping**: Each block maps to exactly one cache line.
    **Ánh xạ trực tiếp**: Mỗi block RAM ánh xạ duy nhất vào một dòng cache.
*   **Associative Mapping**: A block can go into any cache line.
    **Ánh xạ kết hợp**: Block có thể nằm ở bất kỳ dòng nào trong cache.
*   **Set-Associative Mapping**: Cache divided into sets, block maps to a set, and fits into any line in that set.
    **Ánh xạ theo tập kết hợp**: Cache chia thành các tập, block ánh xạ vào tập rồi vào dòng bất kỳ trong tập đó.

## 5.3 Replacement Policies / Chính sách thay thế

*   **LRU (Least Recently Used)**: Replace the block not used for the longest time.
    **LRU**: Thay block không được dùng lâu nhất.
*   **FIFO (First In First Out)**: Replace oldest block.
    **FIFO**: Thay block vào đầu tiên.
*   **LFU (Least Frequently Used)**: Replace block accessed least often.
    **LFU**: Thay block ít được truy cập nhất.

## 5.4 Write Policies / Chính sách ghi

*   **Write Through**: Write data to cache and memory simultaneously.
    **Ghi qua**: Ghi dữ liệu đồng thời vào cache và RAM.
*   **Write Back**: Write only to cache, update RAM later.
    **Ghi lùi**: Ghi vào cache, RAM chỉ cập nhật khi bị thay thế.
*   **Write Allocate**: Load block into cache on write miss.
    **Ghi kèm**: Khi ghi trượt, nạp block vào cache trước khi ghi.
*   **No Write Allocate**: Write directly to RAM on write miss.
    **Không ghi kèm**: Ghi trượt thì ghi thẳng vào RAM.

## 5.5 Cache Coherency / Tính nhất quán cache

*   **Problem**: Multiple caches may hold stale data.
    **Vấn đề**: Nhiều cache có thể giữ dữ liệu không đồng nhất.
*   **Solutions**:
    *   Bus watching with write-through
        **Theo dõi bus với ghi qua**
    *   Hardware transparency
        **Phần cứng tự đồng bộ**
    *   Noncacheable memory
        **Vùng nhớ không dùng cache**

## 5.6 Multilevel Caches / Cache nhiều tầng

*   **L1 Cache**: On-chip, fastest and smallest.
    **Cache L1**: Nằm trong chip, nhanh nhất, nhỏ nhất.
*   **L2/L3 Caches**: Larger and slower, may be shared.
    **Cache L2/L3**: Dung lượng lớn hơn, tốc độ chậm hơn, có thể dùng chung.
*   **Unified vs Split Cache**:
    *   **Unified**: One cache for both data and instructions.
        **Hợp nhất**: Một cache dùng chung.
    *   **Split**: Separate caches for data and instructions.
        **Tách biệt**: Cache riêng cho dữ liệu và lệnh.

## 5.7 Inclusion Policies / Chính sách bao gồm

*   **Inclusive**: Data in upper level is also in lower level.
    **Bao gồm**: Dữ liệu trong cache cấp cao có trong cấp thấp.
*   **Exclusive**: Data only exists in one level.
    **Loại trừ**: Dữ liệu chỉ tồn tại ở một cấp.
*   **Noninclusive**: No rule; may or may not be duplicated.
    **Không bắt buộc**: Có thể trùng lặp hoặc không.